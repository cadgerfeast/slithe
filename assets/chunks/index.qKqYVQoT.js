import{p as r,H as h,s as c,u as d,h as i,a as I,i as D,c as p,g as B,b as f,f as g,t as F,q as _,j as H,r as j,n as N,k,l as S,m as M,o as P,v as m,D as q,w as V,x as K,F as $,S as G,y as J}from"./sl-splitter2.7nVMVtpJ.js";import{d as we,e as xe,z as Ie,A as Le,E as Fe,B as De,C as Te,G as Re}from"./sl-splitter2.7nVMVtpJ.js";const W=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.focusIndex=0,this.danger=void 0}connectedCallback(){c(this.host),d(this.host,{display:"flex"})}render(){return i("li",{class:"sl-action",tabIndex:this.focusIndex},i("slot",null))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-action",{focusIndex:[2,"focus-index"],danger:[516]}]),Q=W,X=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow()}connectedCallback(){c(this.host),d(this.host,{display:"flex"})}render(){return i("li",{class:"sl-action-divider"})}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-action-divider"]),Y=X,Z=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow()}connectedCallback(){c(this.host),d(this.host,{display:"flex"})}render(){return i("ul",{class:"sl-actions"},i("slot",null))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-actions"]),tt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.label=void 0}connectedCallback(){c(this.host),d(this.host,{display:"flex"})}render(){return i("li",{class:"sl-action-group"},i("span",{class:"label"},this.label),i("sl-actions",null,i("slot",null)))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-action-group",{label:[1]}]),et=tt,st=Z,it=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.name=void 0,this.src=void 0,this.size="32px",this.background="var(--sl-avatar-background-color)",this.circle=void 0,this.square=void 0}get style(){return{width:this.size,height:this.size,"background-color":this.background}}get initialsStyle(){return{"font-size":`calc(${this.size} / 2)`}}get initials(){var t,e;const s=new RegExp(/(\p{L}{1})\p{L}+/,"gu"),o=[...this.name.matchAll(s)];return((((t=o.shift())===null||t===void 0?void 0:t[1])||"")+(((e=o.pop())===null||e===void 0?void 0:e[1])||"")).toUpperCase()}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex","vertical-align":"middle"}),I(this.host)}render(){return i("div",{class:"sl-avatar",style:this.style},this.src?i("img",{src:this.src,alt:this.name}):i("span",{style:this.initialsStyle},this.initials))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-avatar",{name:[513],src:[1],size:[1],background:[1],circle:[516],square:[516]}]),ot=it,nt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.heading=void 0,this.slots={graphic:!1,heading:!1,default:!1,actions:!1}}get _heading(){return this.heading||"h3"}get class(){return{"sl-blankslate":!0,"has-graphic":this.slots.graphic,"has-heading":this.slots.heading,"has-default":this.slots.default,"has-actions":this.slots.actions}}handleSlotChange(t){const e=t.target,s=e.getAttribute("name")||"default";this.slots=Object.assign(Object.assign({},this.slots),{[s]:!D(e)})}connectedCallback(){c(this.host),d(this.host,{display:"flex","align-items":"center","justify-content":"center"})}render(){return i("div",{class:this.class},i("div",{class:"graphic"},i("slot",{name:"graphic",onSlotchange:t=>this.handleSlotChange(t)})),i(this._heading,null,i("slot",{name:"heading",onSlotchange:t=>this.handleSlotChange(t)})),i("p",null,i("slot",{onSlotchange:t=>this.handleSlotChange(t)})),i("div",{class:"actions"},i("slot",{name:"actions",onSlotchange:t=>this.handleSlotChange(t)})))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-blankslate",{heading:[1],slots:[32]}]),at=nt,lt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.clickEvent=p(this,"click",7),this.type="button",this.disabled=!1,this.link=!1,this.primary=void 0,this.outline=void 0,this.danger=void 0,this.borderless=void 0,this.small=void 0,this.medium=void 0,this.large=void 0,this.block=!1,this.iconOnly=!1}get class(){return{"sl-button":!0,"icon-only":this.iconOnly}}updateHostStyle(){d(this.host,{display:this.block?"flex":"inline-flex","vertical-align":"middle"})}handleClick(t){t.stopPropagation(),this.clickEvent.emit(),this.type==="submit"&&this.form&&this.form.submit()}handleSlotChange(t){const e=t.target,s=B(e);this.iconOnly=s.length===1&&s[0].nodeName==="SL-ICON"}onBlockChange(){this.updateHostStyle()}connectedCallback(){this.form=f(this.host,"sl-form"),this.form&&g.onChange("forms",t=>{const e=t.get(this.form);e&&e.event==="input"&&(this.disabled=[...e.validations.values()].some(({status:s})=>s.type==="failure"))}),c(this.host),this.updateHostStyle(),I(this.host)}render(){return i("button",{class:this.class,type:this.type,disabled:this.disabled,onClick:t=>this.handleClick(t)},i("slot",{onSlotchange:t=>this.handleSlotChange(t)}))}static get delegatesFocus(){return!0}get host(){return this}static get watchers(){return{block:["onBlockChange"]}}},[17,"sl-button",{type:[1],disabled:[1540],link:[516],primary:[516],outline:[516],danger:[516],borderless:[516],small:[516],medium:[516],large:[516],block:[516],iconOnly:[32]},void 0,{block:["onBlockChange"]}]),rt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.active=!1}get class(){return{"sl-breadcrumb":!0,active:this.active}}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("li",{class:this.class},i("sl-button",{link:!0,disabled:this.active},i("slot",null)))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-breadcrumb",{active:[516]}]),ht=rt,ct=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow()}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("nav",{class:"sl-breadcrumbs"},i("ul",null,i("slot",null)))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-breadcrumbs"]),dt=ct,ut=lt,ft=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.danger=void 0,this.small=void 0,this.medium=void 0,this.slots={header:!1,default:!1,footer:!1}}get class(){return{"sl-card":!0,"has-header":this.slots.header,"has-default":this.slots.default,"has-footer":this.slots.footer}}handleSlotChange(t){const e=t.target,s=e.getAttribute("name")||"default";this.slots=Object.assign(Object.assign({},this.slots),{[s]:!D(e)})}connectedCallback(){c(this.host),d(this.host,{display:"flex"})}render(){return i("div",{class:this.class},i("header",null,i("slot",{name:"header",onSlotchange:t=>this.handleSlotChange(t)})),i("section",null,i("slot",{onSlotchange:t=>this.handleSlotChange(t)})),i("footer",null,i("slot",{name:"footer",onSlotchange:t=>this.handleSlotChange(t)})))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-card",{danger:[516],small:[516],medium:[516],slots:[32]}]),pt=ft,mt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.name=void 0,this.size="16px"}get style(){return{display:"inline-flex","align-items":"center",width:`var(--sl-icon-size, ${this.size})`,height:`var(--sl-icon-size, ${this.size})`}}get svg(){return F.model.icons[this.name]||F.model.fallbackIcon}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex","align-items":"center"}),I(this.host)}render(){return i("i",{class:"sl-icon",style:this.style,innerHTML:this.svg})}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-icon",{name:[513],size:[1]}]),gt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="info",this.icon=void 0}connectedCallback(){c(this.host),d(this.host,{display:"block"})}render(){return i("div",{class:`sl-flash ${this.type}`},this.icon&&i("sl-icon",{name:this.icon}),i("slot",null))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-flash",{type:[1],icon:[1]}]),bt=gt,vt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.submitEvent=p(this,"submit",7),this.validation="input"}async submit(){const t=_(this.host,"sl-form-control"),e=await Promise.all(t.map(s=>s.validate(!0)));this.submitEvent.emit(e.find(s=>(s==null?void 0:s.type)==="failure")?"failure":"success")}connectedCallback(){c(this.host),H(this.host)}async componentDidRender(){const t=_(this.host,"sl-form-control");Promise.all(t.map(e=>e.validate(!1)))}disconnectedCallback(){j(this.host)}render(){return i("form",{class:"sl-form"},i("slot",null))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-form",{validation:[1],submit:[64]}]),yt=vt,kt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.name=void 0,this.required=!1}get class(){return{"sl-label":!0,required:this.required}}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("label",{class:this.class,htmlFor:this.name},i("slot",null))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-label",{name:[1],required:[516]}]),Ct=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.small=!1,this.large=!1}get size(){return this.small?"16px":this.large?"64px":"32px"}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("div",{class:"sl-spinner"},i("svg",{height:this.size,width:this.size,viewBox:"0 0 16 16",fill:"none"},i("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor","stroke-opacity":"0.25","stroke-width":"2","vector-effect":"non-scaling-stroke"}),i("path",{d:"M15 8a7.002 7.002 0 00-7-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","vector-effect":"non-scaling-stroke"})))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-spinner",{small:[516],large:[516]}]),St=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelClickEvent=p(this,"labelClick",7),this.label="",this.caption="",this.name=crypto.randomUUID(),this.required=!1,this.validator=N,this.isValidating=!1,this.status=null}get statusIcon(){var t,e;return((t=this.status)===null||t===void 0?void 0:t.type)==="success"?k.successIcon:((e=this.status)===null||e===void 0?void 0:e.type)==="failure"?k.alertIcon:""}handleLabelClick(){this.labelClickEvent.emit()}async validate(t){let e=null;const s=S(this.host,"sl-input-text")||S(this.host,"sl-input-number")||S(this.host,"sl-input-checkbox");return s&&(this.required&&(!s.value||!s.value.toString().trim())?e={type:"failure",message:"Field cannot be left empty."}:this.validator?(t&&(this.isValidating=!0),e=await this.validator(s.value)||null,this.isValidating=!1):this.required&&(e={type:"success"})),this.form&&M(this.form,this.host,e,t),e}connectedCallback(){this.form=f(this.host,"sl-form"),c(this.host),g.onChange("forms",t=>{const e=t.get(this.form);if(e){const s=e.validations.get(this.host);this.status=s&&s.shouldDisplay?s.status:null}})}render(){var t;return i("div",{class:"sl-form-control"},this.label&&i("sl-label",{name:this.name,required:this.required,onClick:()=>this.handleLabelClick()},this.label),i("slot",null),this.isValidating&&i("sl-spinner",{small:!0}),!this.isValidating&&((t=this.status)===null||t===void 0?void 0:t.message)&&i("div",{class:`status ${this.status.type}`},i("sl-icon",{name:this.statusIcon,size:"12px"}),i("span",null,this.status.message)),this.caption&&i("span",{class:"caption"},this.caption))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-form-control",{label:[1],caption:[1],name:[1],required:[516],validator:[16],isValidating:[32],status:[32],validate:[64]}]),_t=St,wt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.notifications=[]}async addNotification(t){this.notifications=[...this.notifications,t],await P(3e3),this.removeNotification(t)}async removeNotification(t){this.notifications=this.notifications.filter(e=>e!==t)}connectedCallback(){c(this.host)}render(){return i("div",{class:"sl-hud"},i("ul",{class:"notifications"},this.notifications.map(t=>i("li",{class:`notification ${t.type}`},i("div",{class:"icon"},i("sl-icon",{name:t.icon.name,size:t.icon.size})),i("div",{class:"content"},i("span",null,t.message))))))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-hud",{notifications:[32],addNotification:[64],removeNotification:[64]}]),xt=wt,It=mt,Lt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputEvent=p(this,"input",7),this.changeEvent=p(this,"change",7),this.value=!1,this.disabled=!1,this.label="",this.status=null}get class(){return{"sl-input-checkbox":!0,[this.status]:!!this.status}}get effectiveName(){var t;return((t=this.formControl)===null||t===void 0?void 0:t.name)||crypto.randomUUID()}handleInput(t){t.stopPropagation(),this.value=this.input.checked,this.inputEvent.emit(this.value),this.form&&this.formControl&&(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}async handleChange(t){t.stopPropagation(),this.changeEvent.emit(this.value)}async handleBlur(){if(this.form&&this.formControl&&this.form.validation==="input"){const{validations:t}=g.get("forms").get(this.form);t.get(this.formControl).shouldDisplay||(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}}handleClick(){this.input.click()}connectedCallback(){this.form=f(this.host,"sl-form"),this.formControl=f(this.host,"sl-form-control"),c(this.host),d(this.host,{display:"flex"}),g.onChange("forms",t=>{const e=t.get(this.form);if(e){const s=e.validations.get(this.formControl);this.status=s&&s.shouldDisplay&&s.status?s.status.type:null}})}render(){var t;return i("div",{class:this.class},i("div",{class:"checkbox-wrapper"},i("input",{ref:e=>this.input=e,type:"checkbox",name:this.effectiveName,checked:this.value,disabled:this.disabled,onInput:e=>this.handleInput(e),onChange:e=>this.handleChange(e),onBlur:()=>this.handleBlur()}),this.value&&i("sl-icon",{name:k.checkIcon,size:"12px"})),this.label&&i("sl-label",{name:this.effectiveName,required:(t=this.formControl)===null||t===void 0?void 0:t.required,onClick:()=>this.handleClick()},this.label))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-input-checkbox",{value:[1028],disabled:[516],label:[1],status:[1]}]),Ft=Lt;function T(n,t){if(!t.trim())return!0;const e=n.split(" ");for(const s of t.split(" "))if(!e.find(o=>o.toLowerCase().includes(s.toLowerCase())))return!1;return!0}const Dt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.target=void 0,this.position="bottom",this.align="start",this.manual=!1,this.opened=!1,this.offset=0}get currentTarget(){return this.target||this.host.previousElementSibling}get effectiveOffset(){return(isNaN(this.offset)?8:this.offset)+1}get class(){return{"sl-popover":!0,opened:this.opened,[this.position]:!0,[this.align]:!0}}get style(){const t={},e=this.currentTarget.getBoundingClientRect(),s=this.host.getBoundingClientRect();let o=e.top+e.height+(this.effectiveOffset*2-1),a=e.left,l="max-content",u="max-content";switch(this.position){case"top":{switch(o=e.top-(this.effectiveOffset*2-1),this.align){case"start":{a=e.left;break}case"center":{a=e.left+e.width/2;break}case"end":{a=e.right;break}case"justify":{a=e.left,u=`${e.width}px`;break}}break}case"right":{switch(a=e.right+(this.effectiveOffset*2-1),this.align){case"start":{o=e.top;break}case"center":{o=e.top+e.height/2;break}case"end":{o=e.bottom;break}case"justify":{o=e.top,l=`${e.height}px`;break}}break}case"bottom":{switch(o=e.top+e.height+(this.effectiveOffset*2-1),this.align){case"start":{a=e.left;break}case"center":{a=e.left+e.width/2;break}case"end":{a=e.right;break}case"justify":{a=e.left,u=`${e.width}px`;break}}break}case"left":{switch(a=e.left-(this.effectiveOffset*2-1),this.align){case"start":{o=e.top;break}case"center":{o=e.top+e.height/2;break}case"end":{o=e.bottom;break}case"justify":{o=e.top,l=`${e.height}px`;break}}break}}return t.height=l,t.width=u,o+s.height>=window.innerHeight?t.bottom=`${this.effectiveOffset}px`:t.top=`${o}px`,a+s.width>=window.innerWidth?t.right=`${this.effectiveOffset}px`:t.left=`${a}px`,t}async open(){this.opened=!0,this.windowClickListener=this.onWindowClick.bind(this),window.addEventListener("click",this.windowClickListener)}async close(){this.opened=!1,this.windowClickListener&&window.removeEventListener("click",this.windowClickListener)}updateTargetListener(t,e){this.manual||(e&&this.targetClickListener&&e.removeEventListener("click",this.targetClickListener),this.targetClickListener=this.onTargetClick.bind(this),t.addEventListener("click",this.targetClickListener))}onTargetClick(){this.opened?this.close():this.open()}onWindowClick(t){!m(this.currentTarget,t.target)&&!m(this.host,t.target)&&this.close()}onTargetChange(t,e){this.updateTargetListener(this.currentTarget,e)}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"}),this.updateTargetListener(this.currentTarget)}render(){return i("div",{class:this.class,style:this.style},i("div",{class:"popover-wrapper"},i("div",{class:"popover-container"},i("slot",null))))}static get delegatesFocus(){return!0}get host(){return this}static get watchers(){return{target:["onTargetChange"]}}},[17,"sl-popover",{target:[16],position:[1],align:[1],manual:[4],opened:[1028],offset:[2],open:[64],close:[64]},void 0,{target:["onTargetChange"]}]),Tt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputEvent=p(this,"input",7),this.changeEvent=p(this,"change",7),this.optionRefs=[],this.value=void 0,this.placeholder="",this.disabled=!1,this.min=void 0,this.max=void 0,this.step=void 0,this.autocomplete="off",this.status=null,this.options=[],this.small=void 0,this.medium=void 0,this.block=!1,this.focused=!1,this.dirty=!0,this.actionFocusIndex=-1}get _placeholder(){return this.placeholder||""}get class(){return{"sl-input-number":!0,focused:this.focused,[this.status]:!!this.status}}get actionsOpened(){return this.focused&&this.dirty}get filteredOptions(){return(this.options||[]).filter(t=>this.value?T(t.name||t.value.toString(),this.value.toString()):!0)}handleChange(t){t.stopPropagation(),this.changeEvent.emit(this.value)}handleInput(t){this.dirty=!0,t.stopPropagation(),this.value=+this.input.value,this.emitAndValidate()}handleFocus(){this.dirty=!0,this.focused=!0}handleBlur(t){if(!m(this.input,t.relatedTarget)&&!m(this.host,t.relatedTarget)&&(this.focused=!1,this.actionFocusIndex=-1),this.form&&this.formControl&&this.form.validation==="input"){const{validations:e}=g.get("forms").get(this.form);e.get(this.formControl).shouldDisplay||(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}}handleKeyDown(t){switch(t.key){case"ArrowUp":{this.optionRefs.length&&(t.preventDefault(),this.optionRefs[this.optionRefs.length-1].focus());break}case"ArrowDown":{this.optionRefs.length&&(t.preventDefault(),this.optionRefs[0].focus());break}case"Escape":{this.dirty=!1;break}}}handleActionsFocus(t){this.actionFocusIndex=t,this.focused=!0}handleActionsBlur(t){!m(this.input,t.relatedTarget)&&!m(this.host,t.relatedTarget)&&(this.focused=!1,this.actionFocusIndex=-1)}handleActionsKeyDown(t,e){switch(t.key){case"ArrowUp":{t.preventDefault(),this.optionRefs[this.actionFocusIndex-1]?this.optionRefs[this.actionFocusIndex-1].focus():this.optionRefs[this.optionRefs.length-1].focus();break}case"ArrowDown":{t.preventDefault(),this.optionRefs[this.actionFocusIndex+1]?this.optionRefs[this.actionFocusIndex+1].focus():this.optionRefs[0].focus();break}case"Escape":{t.preventDefault(),this.closeOptionsAndFocusInput();break}case" ":case"Enter":{t.preventDefault(),this.selectOption(e),this.closeOptionsAndFocusInput();break}}}selectOption({value:t}){this.value=t,this.emitAndValidate(),this.dirty=!1}closeOptionsAndFocusInput(){this.input.focus(),this.dirty=!1}emitAndValidate(){this.inputEvent.emit(this.value),this.form&&this.formControl&&(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}onControlLabelClick(){this.input.focus()}connectedCallback(){this.form=f(this.host,"sl-form"),this.formControl=f(this.host,"sl-form-control"),this.formControl&&(this.controlLabelClickListener=this.onControlLabelClick.bind(this),this.formControl.addEventListener("labelClick",this.controlLabelClickListener)),c(this.host),d(this.host,{display:"flex"}),g.onChange("forms",t=>{const e=t.get(this.form);if(e){const s=e.validations.get(this.formControl);this.status=s&&s.shouldDisplay&&s.status?s.status.type:null}})}disconnectedCallback(){this.formControl&&this.controlLabelClickListener&&this.formControl.removeEventListener("labelClick",this.controlLabelClickListener)}render(){var t;return i("div",{class:this.class},i("input",{ref:e=>this.input=e,class:{focused:this.focused},type:"number",autocomplete:this.autocomplete,name:(t=this.formControl)===null||t===void 0?void 0:t.name,value:this.value,min:this.min,max:this.max,step:this.step,placeholder:this._placeholder,disabled:this.disabled,onInput:e=>this.handleInput(e),onChange:e=>this.handleChange(e),onFocus:()=>this.handleFocus(),onBlur:e=>this.handleBlur(e),onKeyDown:e=>this.handleKeyDown(e)}),this.filteredOptions.length>0&&i("sl-popover",{opened:this.actionsOpened,manual:!0,align:"justify"},i("sl-actions",null,this.filteredOptions.map((e,s)=>i("sl-action",{ref:o=>o?this.optionRefs[s]=o:this.optionRefs.splice(s,1),focusIndex:this.actionFocusIndex===s?0:-1,onFocus:()=>this.handleActionsFocus(s),onBlur:o=>this.handleActionsBlur(o),onKeyDown:o=>this.handleActionsKeyDown(o,e),onClick:()=>this.selectOption(e)},e.name||e.value)))))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-input-number",{value:[1026],placeholder:[1],disabled:[516],min:[2],max:[2],step:[2],autocomplete:[1],status:[1],options:[16],small:[516],medium:[516],block:[516],focused:[32],dirty:[32],actionFocusIndex:[32]}]),Rt=Tt,At=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputEvent=p(this,"input",7),this.changeEvent=p(this,"change",7),this.optionRefs=[],this.value=void 0,this.placeholder="",this.disabled=!1,this.type="text",this.autocomplete="off",this.status=null,this.options=[],this.small=void 0,this.medium=void 0,this.block=!1,this.focused=!1,this.dirty=!0,this.actionFocusIndex=-1}get _placeholder(){return this.placeholder||""}get class(){return{"sl-input-text":!0,focused:this.focused,[this.status]:!!this.status}}get size(){return Math.max(this.value?this.value.length:0,this._placeholder.length)}get actionsOpened(){return this.focused&&this.dirty}get filteredOptions(){return(this.options||[]).filter(t=>this.value?T(t.name||t.value,this.value.toString()):!0)}async handleChange(t){t.stopPropagation(),this.changeEvent.emit(this.value)}handleInput(t){this.dirty=!0,t.stopPropagation(),this.value=this.input.value,this.emitAndValidate()}handleFocus(){this.dirty=!0,this.focused=!0}handleBlur(t){if(!m(this.input,t.relatedTarget)&&!m(this.host,t.relatedTarget)&&(this.focused=!1,this.actionFocusIndex=-1),this.form&&this.formControl&&this.form.validation==="input"){const{validations:e}=g.get("forms").get(this.form);e.get(this.formControl).shouldDisplay||(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}}handleKeyDown(t){switch(t.key){case"ArrowUp":{this.optionRefs.length&&(t.preventDefault(),this.optionRefs[this.optionRefs.length-1].focus());break}case"ArrowDown":{this.optionRefs.length&&(t.preventDefault(),this.optionRefs[0].focus());break}case"Escape":{this.dirty=!1;break}}}handleActionsFocus(t){this.actionFocusIndex=t,this.focused=!0}handleActionsBlur(t){!m(this.input,t.relatedTarget)&&!m(this.host,t.relatedTarget)&&(this.focused=!1,this.actionFocusIndex=-1)}handleActionsKeyDown(t,e){switch(t.key){case"ArrowUp":{t.preventDefault(),this.optionRefs[this.actionFocusIndex-1]?this.optionRefs[this.actionFocusIndex-1].focus():this.optionRefs[this.optionRefs.length-1].focus();break}case"ArrowDown":{t.preventDefault(),this.optionRefs[this.actionFocusIndex+1]?this.optionRefs[this.actionFocusIndex+1].focus():this.optionRefs[0].focus();break}case"Escape":{t.preventDefault(),this.closeOptionsAndFocusInput();break}case" ":case"Enter":{t.preventDefault(),this.selectOption(e),this.closeOptionsAndFocusInput();break}}}selectOption({value:t}){this.value=t,this.emitAndValidate(),this.dirty=!1}onControlLabelClick(){this.input.focus()}closeOptionsAndFocusInput(){this.input.focus(),this.dirty=!1}emitAndValidate(){this.inputEvent.emit(this.value),this.form&&this.formControl&&(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}connectedCallback(){this.form=f(this.host,"sl-form"),this.formControl=f(this.host,"sl-form-control"),this.formControl&&(this.controlLabelClickListener=this.onControlLabelClick.bind(this),this.formControl.addEventListener("labelClick",this.controlLabelClickListener)),c(this.host),d(this.host,{display:"flex"}),g.onChange("forms",t=>{const e=t.get(this.form);if(e){const s=e.validations.get(this.formControl);this.status=s&&s.shouldDisplay&&s.status?s.status.type:null}})}disconnectedCallback(){this.formControl&&this.controlLabelClickListener&&this.formControl.removeEventListener("labelClick",this.controlLabelClickListener)}render(){var t;return i("div",{class:this.class},i("input",{ref:e=>this.input=e,class:{focused:this.focused},type:this.type,autocomplete:this.autocomplete,name:(t=this.formControl)===null||t===void 0?void 0:t.name,value:this.value,size:this.size,placeholder:this._placeholder,disabled:this.disabled,onInput:e=>this.handleInput(e),onChange:e=>this.handleChange(e),onFocus:()=>this.handleFocus(),onBlur:e=>this.handleBlur(e),onKeyDown:e=>this.handleKeyDown(e)}),this.filteredOptions.length>0&&i("sl-popover",{opened:this.actionsOpened,manual:!0,align:"justify"},i("sl-actions",null,this.filteredOptions.map((e,s)=>i("sl-action",{ref:o=>o?this.optionRefs[s]=o:this.optionRefs.splice(s,1),focusIndex:this.actionFocusIndex===s?0:-1,onFocus:()=>this.handleActionsFocus(s),onBlur:o=>this.handleActionsBlur(o),onKeyDown:o=>this.handleActionsKeyDown(o,e),onClick:()=>this.selectOption(e)},e.name||e.value)))))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-input-text",{value:[1025],placeholder:[1],disabled:[516],type:[1],autocomplete:[1],status:[1],options:[16],small:[516],medium:[516],block:[516],focused:[32],dirty:[32],actionFocusIndex:[32]}]),Et=At,Ot=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow()}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("kbd",{class:"sl-keyboard"},i("slot",null))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-keyboard"]),zt=Ot,Ut=kt,Bt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.active=!1}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("li",{class:"sl-tab"},i("button",null,i("slot",null)))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-tab",{active:[516]}]),Ht=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.small=!1}connectedCallback(){c(this.host),d(this.host,{display:"flex"})}render(){return i("nav",{class:"sl-tabs"},i("ul",null,i("slot",null)))}static get delegatesFocus(){return!0}get host(){return this}},[17,"sl-tabs",{small:[516]}]);function b(n){return JSON.parse(JSON.stringify(n))}function jt(n,t,e){const s=[...n],o=s[t];return s[t]=s[e],s[e]=o,s}function w(n){const t=JSON.parse(JSON.stringify(n));switch(t.id=t.id||crypto.randomUUID(),t.type){case"tabs":{let e=!1;if(t.items.length>0){for(let s=0;s<t.items.length;s++)t.items[s].id=t.items[s].id||crypto.randomUUID(),e=e||t.items[s].active;e||(t.items[0].active=!0)}break}case"splitter":{for(let e=0;e<t.items.length;e++)t.items[e]=w(t.items[e]);break}}return t}function R(n,t,e){const s=b(n);switch(s.type){case"splitter":{t===s.id&&(s.blueSize=e);for(let o=0;o<s.items.length;o++)s.items[o]=R(s.items[o],t,e);break}}return s}function A(n,t){const e=b(n);switch(e.type){case"tabs":{e.items.find(s=>s.id===t)&&(e.items=e.items.map(s=>Object.assign(Object.assign({},s),{active:s.id===t})));break}case"splitter":{for(let s=0;s<e.items.length;s++)e.items[s]=A(e.items[s],t);break}}return e}function E(n,t){const e=b(n);switch(e.type){case"tabs":{const s=e.items.findIndex(o=>o.id===t);s!==-1&&(e.items.splice(s,1),!e.items.some(o=>o.active)&&e.items.length>0&&(e.items[0].active=!0));break}case"splitter":{for(let s=0;s<e.items.length;s++)e.items[s]=E(e.items[s],t);break}}return e}function O(n,t,e,s){const o=b(n);switch(o.type){case"tabs":{o.items.find(a=>a.id===t)&&(o.items=jt(o.items,e,s).map(a=>Object.assign(Object.assign({},a),{active:t===a.id})));break}case"splitter":{for(let a=0;a<o.items.length;a++)o.items[a]=O(o.items[a],t,e,s);break}}return o}function z(n,t,e,s,o,a){const l=b(n);switch(l.type){case"tabs":{if(l.id===e&&(l.items.splice(s,1),!l.items.some(u=>u.active)&&l.items.length>0&&(l.items[0].active=!0)),l.id===o){const u=[...l.items];u.splice(a,0,t),l.items=u.map(L=>Object.assign(Object.assign({},L),{active:L.id===t.id}))}break}case"splitter":{for(let u=0;u<l.items.length;u++)l.items[u]=z(l.items[u],t,e,s,o,a);break}}return l}function U(n,t,e,s){let o=b(n);switch(o.type){case"tabs":{const a=o.items.findIndex(l=>l.id===t.id);if(a!==-1&&(o.id===e&&s==="center"?o.items=o.items.map(l=>Object.assign(Object.assign({},l),{active:l.id===t.id})):(o.items.splice(a,1),!o.items.some(l=>l.active)&&o.items.length>0&&(o.items[0].active=!0))),o.id===e){const l=Object.assign(Object.assign({},t),{active:!0});switch(s){case"top":{o={id:crypto.randomUUID(),type:"splitter",direction:"vertical",blueSize:50,items:[{id:crypto.randomUUID(),type:"tabs",items:[l]},o]};break}case"right":{o={id:crypto.randomUUID(),type:"splitter",direction:"horizontal",blueSize:50,items:[o,{id:crypto.randomUUID(),type:"tabs",items:[l]}]};break}case"bottom":{o={id:crypto.randomUUID(),type:"splitter",direction:"vertical",blueSize:50,items:[o,{id:crypto.randomUUID(),type:"tabs",items:[l]}]};break}case"left":{o={id:crypto.randomUUID(),type:"splitter",direction:"horizontal",blueSize:50,items:[{id:crypto.randomUUID(),type:"tabs",items:[l]},o]};break}case"center":{a===-1&&(o.items.push(l),o.items=o.items.map(u=>Object.assign(Object.assign({},u),{active:u.id===t.id})));break}}}break}case"splitter":{for(let a=0;a<o.items.length;a++)o.items[a]=U(o.items[a],t,e,s);break}}return o}function x(n,t){if(n.id===t)return n;switch(n.type){case"tabs":{for(const e of n.items)if(e.id===t)return e;break}case"splitter":{for(const e of n.items){const s=x(e,t);if(s)return s}break}}}function y(n){let t=b(n);switch(t.type){case"splitter":{if(C(t.items[0]))t=t.items[1];else if(C(t.items[1]))t=t.items[0];else for(let e=0;e<t.items.length;e++)t.items[e]=y(t.items[e]);break}}return t}function C(n){switch(n.type){case"tabs":return n.items.length===0;case"splitter":return C(n.items[0])&&C(n.items[1])}}const Nt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.updateEvent=p(this,"update",3),this.closeEvent=p(this,"close",3),this.ready=new q,this.model={id:crypto.randomUUID(),type:"tabs",items:[]},this.root=!1,this.dragging=!1,this._model=void 0,this.renderIndex=0}async getGroup(){if(this.group)return this.group;{const t=f(this.host.parentElement,"sl-layout");return t?await t.getGroup():crypto.randomUUID()}}async getRootLayout(){return this.root?this.host:f(this.host.parentElement,"sl-layout").getRootLayout()}async moveTab(t,e,s,o,a){const l=x(this._model,t);this._model=y(z(this._model,l,e,s,o,a)),this.emitUpdate()}async sortTab(t,e,s){this._model=O(this._model,t,e,s),this.emitUpdate()}async selectTab(t){this._model=A(this._model,t),this.emitUpdate()}async removeTab(t){this._model=y(E(this._model,t)),this.emitClose(t),this.emitUpdate()}async resizeSplitter(t,e){this._model=R(this._model,t,e),this.emitUpdate()}async dropTab(t,e,s){const o=x(this._model,t);this._model=y(U(this._model,o,e,s)),this.emitUpdate()}async setRootDragging(t){const e=_(this.host,"sl-layout");for(const s of e)s.setDragging(t)}async setDragging(t){this.dragging=t}getSlots(t){const e=[];switch(t.type){case"tabs":{for(const s of t.items)e.push(s.viewSlot);break}case"splitter":{for(const s of t.items)e.push(...this.getSlots(s));break}}return e}async _selectTab(t){this._model.type==="tabs"&&await(await this.getRootLayout()).selectTab(t)}async _removeTab(t,e){t.stopPropagation(),this._model.type==="tabs"&&await(await this.getRootLayout()).removeTab(e)}emitClose(t){this.closeEvent.emit(t)}emitUpdate(){this.updateEvent.emit(b(this._model)),this.renderIndex++}async _setDragging(t){await(await this.getRootLayout()).setRootDragging(t)}_setTabsRef(t){this.tabsContainer=t,this.createSortableTabs()}_setContentRef(t){this.tabsContent=t,this.createSortableTabs()}createSortableTabs(){this._model.type==="tabs"&&this.tabsContainer&&this.tabsContent&&(V({container:this.tabsContainer,disabled:this._model.droppable===!1,group:this.group,items:"sl-tab",filter:".draggable",onStart:()=>{this._setDragging(!0)},onSort:async(t,e,s)=>{e.id===s.id?await(await this.getRootLayout()).sortTab(t,e.index,s.index):await(await this.getRootLayout()).moveTab(t,e.id,e.index,s.id,s.index)},onEnd:()=>{this._setDragging(!1)}}),K({container:this.tabsContent,disabled:this._model.splittable===!1,onDrop:async(t,e)=>{await(await this.getRootLayout()).dropTab(t.id,this._model.id,e)}}))}onModelChanged(t){this._model=w(t)}handleResizeStart(){this._setDragging(!0)}async handleResizeEnd(t){t.stopPropagation(),this._setDragging(!1),this._model.type==="splitter"&&await(await this.getRootLayout()).resizeSplitter(this._model.id,t.detail)}async connectedCallback(){c(this.host),d(this.host,{display:"block",position:"relative",height:"100%"}),this._model=w(this.model),this.root=!f(this.host.parentElement,"sl-layout"),this.group=await this.getGroup(),this.ready.resolve()}async componentDidLoad(){await this.ready.promise}renderTabs(t){return i($,null,i("sl-tabs",{id:t.id,ref:e=>this._setTabsRef(e),small:!0},t.items.map(e=>i("sl-tab",{class:{draggable:e.draggable!==!1},id:e.id,key:e.id,active:e.active,onClick:()=>this._selectTab(e.id)},e.name,e.closable&&i("sl-icon",{class:"close-btn",name:k.closeIcon,onClick:s=>this._removeTab(s,e.id)})))),i("div",{class:"tab-content",ref:e=>this._setContentRef(e)},t.items.map(e=>i("div",{class:{"tab-view":!0,active:e.active&&!e.placeholder}},i("slot",{name:e.viewSlot})))))}renderSplitter(t){return i("sl-splitter",{vertical:t.direction==="vertical",blueSize:t.blueSize,minBlue:t.minBlue,maxBlue:t.maxBlue,disabled:t.disabled,onResizeStart:()=>this.handleResizeStart(),onResizeEnd:e=>this.handleResizeEnd(e)},i("sl-layout",{slot:"blue",model:t.items[0]},this.getSlots(t.items[0]).map(e=>i("slot",{name:e,slot:e}))),i("sl-layout",{slot:"green",model:t.items[1]},this.getSlots(t.items[1]).map(e=>i("slot",{name:e,slot:e}))))}render(){return i("div",{key:this._model.id+this.renderIndex,class:"sl-layout"},this._model.type==="tabs"&&this.renderTabs(this._model),this._model.type==="splitter"&&this.renderSplitter(this._model),this._model.type!=="splitter"&&this.getSlots(this._model).map(t=>i("slot",{name:t,slot:t})))}static get delegatesFocus(){return!0}get host(){return this}static get watchers(){return{model:["onModelChanged"]}}},[17,"sl-layout",{model:[16],root:[32],dragging:[32],_model:[32],renderIndex:[32],getGroup:[64],getRootLayout:[64],moveTab:[64],sortTab:[64],selectTab:[64],removeTab:[64],resizeSplitter:[64],dropTab:[64],setRootDragging:[64],setDragging:[64]},void 0,{model:["onModelChanged"]}]),Mt=Nt,Pt=Dt,qt=Ct,Vt=G,Kt=Bt,$t=Ht,Gt=J;let v;function ke(n){v||(v=document.createElement("sl-hud"),document.body.appendChild(v)),v.addNotification(n)}const Ce=n=>{typeof customElements<"u"&&[Q,Y,et,st,ot,at,ht,dt,ut,pt,bt,yt,_t,xt,It,Ft,Rt,Et,zt,Ut,Mt,Pt,qt,Vt,Kt,$t,Gt].forEach(t=>{customElements.get(t.is)||customElements.define(t.is,t,n)})};export{q as Deferred,ke as addNotification,I as attachTooltip,we as debounce,Ce as defineCustomElements,P as delay,xe as emailValidation,Ie as getAssetPath,N as noValidation,Le as setAssetPath,Fe as setConfig,De as setNonce,Te as setPlatformOptions,Re as setTheme};
