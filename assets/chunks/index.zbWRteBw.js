import{p as r,H as h,s as c,u as d,a as x,h as i,i as E,g as O,c as m,f,t as T,b as p,q as S,j,r as N,n as M,k as y,l as k,m as q,o as P,D as F,v as $,w as A,F as V,x as I,S as G,y as J}from"./sl-splitter2.Lb_HhVzM.js";import{d as de,e as ue,z as me,A as pe,E as fe,B as ge,C as be,G as ve}from"./sl-splitter2.Lb_HhVzM.js";const W=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.name=void 0,this.src=void 0,this.size="32px",this.background="var(--sl-avatar-background-color)",this.circle=void 0,this.square=void 0}get style(){return{width:this.size,height:this.size,"background-color":this.background}}get initialsStyle(){return{"font-size":`calc(${this.size} / 2)`}}get initials(){var t,e;const s=new RegExp(/(\p{L}{1})\p{L}+/,"gu"),a=[...this.name.matchAll(s)];return((((t=a.shift())===null||t===void 0?void 0:t[1])||"")+(((e=a.pop())===null||e===void 0?void 0:e[1])||"")).toUpperCase()}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex","vertical-align":"middle"}),x(this.host)}render(){return i("div",{class:"sl-avatar",style:this.style},this.src?i("img",{src:this.src,alt:this.name}):i("span",{style:this.initialsStyle},this.initials))}get host(){return this}},[1,"sl-avatar",{name:[513],src:[1],size:[1],background:[1],circle:[516],square:[516]}]),K=W,Q=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.heading=void 0,this.slots={graphic:!1,heading:!1,default:!1,actions:!1}}get _heading(){return this.heading||"h3"}get class(){return{"sl-blankslate":!0,"has-graphic":this.slots.graphic,"has-heading":this.slots.heading,"has-default":this.slots.default,"has-actions":this.slots.actions}}handleSlotChange(t){const e=t.target,s=e.getAttribute("name")||"default";this.slots=Object.assign(Object.assign({},this.slots),{[s]:!E(e)})}connectedCallback(){c(this.host),d(this.host,{display:"flex","align-items":"center","justify-content":"center"})}render(){return i("div",{class:this.class},i("div",{class:"graphic"},i("slot",{name:"graphic",onSlotchange:this.handleSlotChange})),i(this._heading,null,i("slot",{name:"heading",onSlotchange:this.handleSlotChange})),i("p",null,i("slot",{onSlotchange:this.handleSlotChange})),i("div",{class:"actions"},i("slot",{name:"actions",onSlotchange:this.handleSlotChange})))}get host(){return this}},[1,"sl-blankslate",{heading:[1],slots:[32]}]),X=Q,Y=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="button",this.disabled=!1,this.link=!1,this.primary=void 0,this.outline=void 0,this.danger=void 0,this.borderless=void 0,this.small=void 0,this.medium=void 0,this.large=void 0,this.block=!1,this.iconOnly=!1}get class(){return{"sl-button":!0,"icon-only":this.iconOnly}}updateHostStyle(){d(this.host,{display:this.block?"flex":"inline-flex","vertical-align":"middle"})}handleClick(){this.type==="submit"&&this.form&&this.form.submit()}handleSlotChange(t){const e=t.target,s=O(e);this.iconOnly=s.length===1&&s[0].nodeName==="SL-ICON"}onBlockChange(){this.updateHostStyle()}connectedCallback(){this.form=m(this.host,"sl-form"),this.form&&f.onChange("forms",t=>{const e=t.get(this.form);e&&e.event==="input"&&(this.disabled=[...e.validations.values()].some(({status:s})=>s.type==="failure"))}),c(this.host),this.updateHostStyle(),x(this.host)}render(){return i("button",{class:this.class,type:this.type,disabled:this.disabled,onClick:()=>this.handleClick()},i("slot",{onSlotchange:t=>this.handleSlotChange(t)}))}get host(){return this}static get watchers(){return{block:["onBlockChange"]}}},[1,"sl-button",{type:[1],disabled:[1540],link:[516],primary:[516],outline:[516],danger:[516],borderless:[516],small:[516],medium:[516],large:[516],block:[516],iconOnly:[32]},void 0,{block:["onBlockChange"]}]),Z=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.active=!1}get class(){return{"sl-breadcrumb":!0,active:this.active}}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("li",{class:this.class},i("sl-button",{link:!0,disabled:this.active},i("slot",null)))}get host(){return this}},[1,"sl-breadcrumb",{active:[516]}]),tt=Z,et=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow()}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("nav",{class:"sl-breadcrumbs"},i("ul",null,i("slot",null)))}get host(){return this}},[1,"sl-breadcrumbs"]),st=et,it=Y,at=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.danger=void 0,this.small=void 0,this.medium=void 0,this.slots={header:!1,default:!1,footer:!1}}get class(){return{"sl-card":!0,"has-header":this.slots.header,"has-default":this.slots.default,"has-footer":this.slots.footer}}handleSlotChange(t){const e=t.target,s=e.getAttribute("name")||"default";this.slots=Object.assign(Object.assign({},this.slots),{[s]:!E(e)})}connectedCallback(){c(this.host),d(this.host,{display:"flex"})}render(){return i("div",{class:this.class},i("header",null,i("slot",{name:"header",onSlotchange:t=>this.handleSlotChange(t)})),i("section",null,i("slot",{onSlotchange:t=>this.handleSlotChange(t)})),i("footer",null,i("slot",{name:"footer",onSlotchange:t=>this.handleSlotChange(t)})))}get host(){return this}},[1,"sl-card",{danger:[516],small:[516],medium:[516],slots:[32]}]),ot=at,nt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.name=void 0,this.size="16px"}get style(){return{display:"inline-flex","align-items":"center",width:`var(--sl-icon-size, ${this.size})`,height:`var(--sl-icon-size, ${this.size})`}}get svg(){return T.model.icons[this.name]||T.model.fallbackIcon}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex","align-items":"center"}),x(this.host)}render(){return i("i",{class:"sl-icon",style:this.style,innerHTML:this.svg})}get host(){return this}},[1,"sl-icon",{name:[513],size:[1]}]),lt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="info",this.icon=void 0}connectedCallback(){c(this.host),d(this.host,{display:"block"})}render(){return i("div",{class:`sl-flash ${this.type}`},this.icon&&i("sl-icon",{name:this.icon}),i("slot",null))}get host(){return this}},[1,"sl-flash",{type:[1],icon:[1]}]),rt=lt,ht=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.submitEvent=p(this,"submit",7),this.validation="input"}async submit(){const t=S(this.host,"sl-form-control"),e=await Promise.all(t.map(s=>s.validate(!0)));this.submitEvent.emit(e.find(s=>(s==null?void 0:s.type)==="failure")?"failure":"success")}connectedCallback(){c(this.host),j(this.host)}async componentDidRender(){const t=S(this.host,"sl-form-control");Promise.all(t.map(e=>e.validate(!1)))}disconnectedCallback(){N(this.host)}render(){return i("form",{class:"sl-form"},i("slot",null))}get host(){return this}},[1,"sl-form",{validation:[1],submit:[64]}]),ct=ht,dt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.name=void 0,this.required=!1}get class(){return{"sl-label":!0,required:this.required}}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("label",{class:this.class,htmlFor:this.name},i("slot",null))}get host(){return this}},[1,"sl-label",{name:[1],required:[516]}]),ut=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.small=!1,this.large=!1}get size(){return this.small?"16px":this.large?"64px":"32px"}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("div",{class:"sl-spinner"},i("svg",{height:this.size,width:this.size,viewBox:"0 0 16 16",fill:"none"},i("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor","stroke-opacity":"0.25","stroke-width":"2","vector-effect":"non-scaling-stroke"}),i("path",{d:"M15 8a7.002 7.002 0 00-7-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","vector-effect":"non-scaling-stroke"})))}get host(){return this}},[1,"sl-spinner",{small:[516],large:[516]}]),mt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelClickEvent=p(this,"labelClick",7),this.label="",this.caption="",this.name=crypto.randomUUID(),this.required=!1,this.validator=M,this.isValidating=!1,this.status=null}get statusIcon(){var t,e;return((t=this.status)===null||t===void 0?void 0:t.type)==="success"?y.successIcon:((e=this.status)===null||e===void 0?void 0:e.type)==="failure"?y.alertIcon:""}handleLabelClick(){this.labelClickEvent.emit()}async validate(t){let e=null;const s=k(this.host,"sl-input-text")||k(this.host,"sl-input-number")||k(this.host,"sl-input-checkbox");return s&&(this.required&&(!s.value||!s.value.toString().trim())?e={type:"failure",message:"Field cannot be left empty."}:this.validator?(t&&(this.isValidating=!0),e=await this.validator(s.value)||null,this.isValidating=!1):this.required&&(e={type:"success"})),this.form&&q(this.form,this.host,e,t),e}connectedCallback(){this.form=m(this.host,"sl-form"),c(this.host),f.onChange("forms",t=>{const e=t.get(this.form);if(e){const s=e.validations.get(this.host);this.status=s&&s.shouldDisplay?s.status:null}})}render(){var t;return i("div",{class:"sl-form-control"},this.label&&i("sl-label",{name:this.name,required:this.required,onClick:()=>this.handleLabelClick()},this.label),i("slot",null),this.isValidating&&i("sl-spinner",{small:!0}),!this.isValidating&&((t=this.status)===null||t===void 0?void 0:t.message)&&i("div",{class:`status ${this.status.type}`},i("sl-icon",{name:this.statusIcon,size:"12px"}),i("span",null,this.status.message)),this.caption&&i("span",{class:"caption"},this.caption))}get host(){return this}},[1,"sl-form-control",{label:[1],caption:[1],name:[1],required:[516],validator:[16],isValidating:[32],status:[32],validate:[64]}]),pt=mt,ft=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.notifications=[]}async addNotification(t){this.notifications=[...this.notifications,t],await P(3e3),this.removeNotification(t)}async removeNotification(t){this.notifications=this.notifications.filter(e=>e!==t)}connectedCallback(){c(this.host)}render(){return i("div",{class:"sl-hud"},i("ul",{class:"notifications"},this.notifications.map(t=>i("li",{class:`notification ${t.type}`},i("div",{class:"icon"},i("sl-icon",{name:t.icon.name,size:t.icon.size})),i("div",{class:"content"},i("span",null,t.message))))))}get host(){return this}},[1,"sl-hud",{notifications:[32],addNotification:[64],removeNotification:[64]}]),gt=ft,bt=nt,vt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputEvent=p(this,"input",7),this.changeEvent=p(this,"change",7),this.value=!1,this.disabled=!1,this.label="",this.status=null}get class(){return{"sl-input-checkbox":!0,[this.status]:!!this.status}}get effectiveName(){var t;return((t=this.formControl)===null||t===void 0?void 0:t.name)||crypto.randomUUID()}handleInput(t){t.stopPropagation(),this.value=this.input.checked,this.inputEvent.emit(this.value),this.form&&this.formControl&&(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}async handleChange(t){t.stopPropagation(),this.changeEvent.emit(this.value)}async handleBlur(){if(this.form&&this.formControl&&this.form.validation==="input"){const{validations:t}=f.get("forms").get(this.form);t.get(this.formControl).shouldDisplay||(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}}handleClick(){this.input.click()}connectedCallback(){this.form=m(this.host,"sl-form"),this.formControl=m(this.host,"sl-form-control"),c(this.host),d(this.host,{display:"flex"}),f.onChange("forms",t=>{const e=t.get(this.form);if(e){const s=e.validations.get(this.formControl);this.status=s&&s.shouldDisplay&&s.status?s.status.type:null}})}render(){var t;return i("div",{class:this.class},i("div",{class:"checkbox-wrapper"},i("input",{ref:e=>this.input=e,type:"checkbox",name:this.effectiveName,checked:this.value,disabled:this.disabled,onInput:e=>this.handleInput(e),onChange:e=>this.handleChange(e),onBlur:()=>this.handleBlur()}),this.value&&i("sl-icon",{name:y.checkIcon,size:"12px"})),this.label&&i("sl-label",{name:this.effectiveName,required:(t=this.formControl)===null||t===void 0?void 0:t.required,onClick:()=>this.handleClick()},this.label))}get host(){return this}},[1,"sl-input-checkbox",{value:[1028],disabled:[516],label:[1],status:[1]}]),yt=vt,Ct=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputEvent=p(this,"input",7),this.changeEvent=p(this,"change",7),this.value=void 0,this.placeholder="",this.disabled=!1,this.min=void 0,this.max=void 0,this.step=void 0,this.autocomplete="off",this.status=null,this.small=void 0,this.medium=void 0,this.block=!1}get _placeholder(){return this.placeholder||""}get class(){return{"sl-input-number":!0,[this.status]:!!this.status}}handleInput(t){t.stopPropagation(),this.value=+this.input.value,this.inputEvent.emit(this.value),this.form&&this.formControl&&(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}async handleChange(t){t.stopPropagation(),this.changeEvent.emit(this.value)}async handleBlur(){if(this.form&&this.formControl&&this.form.validation==="input"){const{validations:t}=f.get("forms").get(this.form);t.get(this.formControl).shouldDisplay||(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}}onControlLabelClick(){this.input.focus()}connectedCallback(){this.form=m(this.host,"sl-form"),this.formControl=m(this.host,"sl-form-control"),this.formControl&&(this.controlLabelClickListener=this.onControlLabelClick.bind(this),this.formControl.addEventListener("labelClick",this.controlLabelClickListener)),c(this.host),d(this.host,{display:"flex"}),f.onChange("forms",t=>{const e=t.get(this.form);if(e){const s=e.validations.get(this.formControl);this.status=s&&s.shouldDisplay&&s.status?s.status.type:null}})}disconnectedCallback(){this.formControl&&this.controlLabelClickListener&&this.formControl.removeEventListener("labelClick",this.controlLabelClickListener)}render(){var t;return i("div",{class:this.class},i("input",{ref:e=>this.input=e,type:"number",autocomplete:this.autocomplete,name:(t=this.formControl)===null||t===void 0?void 0:t.name,value:this.value,min:this.min,max:this.max,step:this.step,placeholder:this._placeholder,disabled:this.disabled,onInput:e=>this.handleInput(e),onChange:e=>this.handleChange(e),onBlur:()=>this.handleBlur()}))}get host(){return this}},[1,"sl-input-number",{value:[1026],placeholder:[1],disabled:[516],min:[2],max:[2],step:[2],autocomplete:[1],status:[1],small:[516],medium:[516],block:[516]}]),kt=Ct,St=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputEvent=p(this,"input",7),this.changeEvent=p(this,"change",7),this.value=void 0,this.placeholder="",this.disabled=!1,this.type="text",this.status=null,this.autocomplete="off",this.small=void 0,this.medium=void 0,this.block=!1}get _placeholder(){return this.placeholder||""}get class(){return{"sl-input-text":!0,[this.status]:!!this.status}}get size(){return Math.max(this.value?this.value.length:0,this._placeholder.length)}handleInput(t){t.stopPropagation(),this.value=this.input.value,this.inputEvent.emit(this.value),this.form&&this.formControl&&(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}async handleChange(t){t.stopPropagation(),this.changeEvent.emit(this.value)}async handleBlur(){if(this.form&&this.formControl&&this.form.validation==="input"){const{validations:t}=f.get("forms").get(this.form);t.get(this.formControl).shouldDisplay||(this.status=null,this.form.validation==="input"&&this.formControl.validate(!0))}}onControlLabelClick(){this.input.focus()}connectedCallback(){this.form=m(this.host,"sl-form"),this.formControl=m(this.host,"sl-form-control"),this.formControl&&(this.controlLabelClickListener=this.onControlLabelClick.bind(this),this.formControl.addEventListener("labelClick",this.controlLabelClickListener)),c(this.host),d(this.host,{display:"flex"}),f.onChange("forms",t=>{const e=t.get(this.form);if(e){const s=e.validations.get(this.formControl);this.status=s&&s.shouldDisplay&&s.status?s.status.type:null}})}disconnectedCallback(){this.formControl&&this.controlLabelClickListener&&this.formControl.removeEventListener("labelClick",this.controlLabelClickListener)}render(){var t;return i("div",{class:this.class},i("input",{ref:e=>this.input=e,type:this.type,autocomplete:this.autocomplete,name:(t=this.formControl)===null||t===void 0?void 0:t.name,value:this.value,size:this.size,placeholder:this._placeholder,disabled:this.disabled,onInput:e=>this.handleInput(e),onChange:e=>this.handleChange(e),onBlur:()=>this.handleBlur()}))}get host(){return this}},[1,"sl-input-text",{value:[1025],placeholder:[1],disabled:[516],type:[1],status:[1],autocomplete:[1],small:[516],medium:[516],block:[516]}]),_t=St,wt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow()}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("kbd",{class:"sl-keyboard"},i("slot",null))}get host(){return this}},[1,"sl-keyboard"]),xt=wt,Lt=dt,Tt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.active=!1}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"})}render(){return i("li",{class:"sl-tab"},i("button",null,i("slot",null)))}get host(){return this}},[1,"sl-tab",{active:[516]}]),It=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.small=!1}connectedCallback(){c(this.host),d(this.host,{display:"flex"})}render(){return i("nav",{class:"sl-tabs"},i("ul",null,i("slot",null)))}get host(){return this}},[1,"sl-tabs",{small:[516]}]);function g(o){return JSON.parse(JSON.stringify(o))}function Et(o,t,e){const s=[...o],a=s[t];return s[t]=s[e],s[e]=a,s}function _(o){const t=JSON.parse(JSON.stringify(o));switch(t.id=t.id||crypto.randomUUID(),t.type){case"tabs":{let e=!1;if(t.items.length>0){for(let s=0;s<t.items.length;s++)t.items[s].id=t.items[s].id||crypto.randomUUID(),e=e||t.items[s].active;e||(t.items[0].active=!0)}break}case"splitter":{for(let e=0;e<t.items.length;e++)t.items[e]=_(t.items[e]);break}}return t}function z(o,t,e){const s=g(o);switch(s.type){case"splitter":{t===s.id&&(s.blueSize=e);for(let a=0;a<s.items.length;a++)s.items[a]=z(s.items[a],t,e);break}}return s}function D(o,t){const e=g(o);switch(e.type){case"tabs":{e.items.find(s=>s.id===t)&&(e.items=e.items.map(s=>Object.assign(Object.assign({},s),{active:s.id===t})));break}case"splitter":{for(let s=0;s<e.items.length;s++)e.items[s]=D(e.items[s],t);break}}return e}function U(o,t){const e=g(o);switch(e.type){case"tabs":{const s=e.items.findIndex(a=>a.id===t);s!==-1&&(e.items.splice(s,1),!e.items.some(a=>a.active)&&e.items.length>0&&(e.items[0].active=!0));break}case"splitter":{for(let s=0;s<e.items.length;s++)e.items[s]=U(e.items[s],t);break}}return e}function B(o,t,e,s){const a=g(o);switch(a.type){case"tabs":{a.items.find(n=>n.id===t)&&(a.items=Et(a.items,e,s).map(n=>Object.assign(Object.assign({},n),{active:t===n.id})));break}case"splitter":{for(let n=0;n<a.items.length;n++)a.items[n]=B(a.items[n],t,e,s);break}}return a}function H(o,t,e,s,a,n){const l=g(o);switch(l.type){case"tabs":{if(l.id===e&&(l.items.splice(s,1),!l.items.some(u=>u.active)&&l.items.length>0&&(l.items[0].active=!0)),l.id===a){const u=[...l.items];u.splice(n,0,t),l.items=u.map(L=>Object.assign(Object.assign({},L),{active:L.id===t.id}))}break}case"splitter":{for(let u=0;u<l.items.length;u++)l.items[u]=H(l.items[u],t,e,s,a,n);break}}return l}function R(o,t,e,s){let a=g(o);switch(a.type){case"tabs":{const n=a.items.findIndex(l=>l.id===t.id);if(n!==-1&&(a.id===e&&s==="center"?a.items=a.items.map(l=>Object.assign(Object.assign({},l),{active:l.id===t.id})):(a.items.splice(n,1),!a.items.some(l=>l.active)&&a.items.length>0&&(a.items[0].active=!0))),a.id===e){const l=Object.assign(Object.assign({},t),{active:!0});switch(s){case"top":{a={id:crypto.randomUUID(),type:"splitter",direction:"vertical",blueSize:50,items:[{id:crypto.randomUUID(),type:"tabs",items:[l]},a]};break}case"right":{a={id:crypto.randomUUID(),type:"splitter",direction:"horizontal",blueSize:50,items:[a,{id:crypto.randomUUID(),type:"tabs",items:[l]}]};break}case"bottom":{a={id:crypto.randomUUID(),type:"splitter",direction:"vertical",blueSize:50,items:[a,{id:crypto.randomUUID(),type:"tabs",items:[l]}]};break}case"left":{a={id:crypto.randomUUID(),type:"splitter",direction:"horizontal",blueSize:50,items:[{id:crypto.randomUUID(),type:"tabs",items:[l]},a]};break}case"center":{n===-1&&(a.items.push(l),a.items=a.items.map(u=>Object.assign(Object.assign({},u),{active:u.id===t.id})));break}}}break}case"splitter":{for(let n=0;n<a.items.length;n++)a.items[n]=R(a.items[n],t,e,s);break}}return a}function w(o,t){if(o.id===t)return o;switch(o.type){case"tabs":{for(const e of o.items)if(e.id===t)return e;break}case"splitter":{for(const e of o.items){const s=w(e,t);if(s)return s}break}}}function v(o){let t=g(o);switch(t.type){case"splitter":{if(C(t.items[0]))t=t.items[1];else if(C(t.items[1]))t=t.items[0];else for(let e=0;e<t.items.length;e++)t.items[e]=v(t.items[e]);break}}return t}function C(o){switch(o.type){case"tabs":return o.items.length===0;case"splitter":return C(o.items[0])&&C(o.items[1])}}const zt=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.updateEvent=p(this,"update",3),this.closeEvent=p(this,"close",3),this.ready=new F,this.model={id:crypto.randomUUID(),type:"tabs",items:[]},this.root=!1,this.dragging=!1,this._model=void 0,this.renderIndex=0}async getGroup(){if(this.group)return this.group;{const t=m(this.host.parentElement,"sl-layout");return t?await t.getGroup():crypto.randomUUID()}}async getRootLayout(){return this.root?this.host:m(this.host.parentElement,"sl-layout").getRootLayout()}async moveTab(t,e,s,a,n){const l=w(this._model,t);this._model=v(H(this._model,l,e,s,a,n)),this.emitUpdate()}async sortTab(t,e,s){this._model=B(this._model,t,e,s),this.emitUpdate()}async selectTab(t){this._model=D(this._model,t),this.emitUpdate()}async removeTab(t){this._model=v(U(this._model,t)),this.emitClose(t),this.emitUpdate()}async resizeSplitter(t,e){this._model=z(this._model,t,e),this.emitUpdate()}async dropTab(t,e,s){const a=w(this._model,t);this._model=v(R(this._model,a,e,s)),this.emitUpdate()}async setRootDragging(t){const e=S(this.host,"sl-layout");for(const s of e)s.setDragging(t)}async setDragging(t){this.dragging=t}getSlots(t){const e=[];switch(t.type){case"tabs":{for(const s of t.items)e.push(s.viewSlot);break}case"splitter":{for(const s of t.items)e.push(...this.getSlots(s));break}}return e}async _selectTab(t){this._model.type==="tabs"&&await(await this.getRootLayout()).selectTab(t)}async _removeTab(t,e){t.stopPropagation(),this._model.type==="tabs"&&await(await this.getRootLayout()).removeTab(e)}emitClose(t){this.closeEvent.emit(t)}emitUpdate(){this.updateEvent.emit(g(this._model)),this.renderIndex++}async _setDragging(t){await(await this.getRootLayout()).setRootDragging(t)}_setTabsRef(t){this.tabsContainer=t,this.createSortableTabs()}_setContentRef(t){this.tabsContent=t,this.createSortableTabs()}createSortableTabs(){this._model.type==="tabs"&&this.tabsContainer&&this.tabsContent&&($({container:this.tabsContainer,disabled:this._model.droppable===!1,group:this.group,items:"sl-tab",filter:".draggable",onStart:()=>{this._setDragging(!0)},onSort:async(t,e,s)=>{e.id===s.id?await(await this.getRootLayout()).sortTab(t,e.index,s.index):await(await this.getRootLayout()).moveTab(t,e.id,e.index,s.id,s.index)},onEnd:()=>{this._setDragging(!1)}}),A({container:this.tabsContent,disabled:this._model.splittable===!1,onDrop:async(t,e)=>{await(await this.getRootLayout()).dropTab(t.id,this._model.id,e)}}))}onModelChanged(t){this._model=_(t)}handleResizeStart(){this._setDragging(!0)}async handleResizeEnd(t){t.stopPropagation(),this._setDragging(!1),this._model.type==="splitter"&&await(await this.getRootLayout()).resizeSplitter(this._model.id,t.detail)}async connectedCallback(){c(this.host),d(this.host,{display:"block",position:"relative",height:"100%"}),this._model=_(this.model),this.root=!m(this.host.parentElement,"sl-layout"),this.group=await this.getGroup(),this.ready.resolve()}async componentDidLoad(){await this.ready.promise}renderTabs(t){return i(V,null,i("sl-tabs",{id:t.id,ref:e=>this._setTabsRef(e),small:!0},t.items.map(e=>i("sl-tab",{class:{draggable:e.draggable!==!1},id:e.id,key:e.id,active:e.active,onClick:()=>this._selectTab(e.id)},e.name,e.closable&&i("sl-icon",{class:"close-btn",name:y.closeIcon,onClick:s=>this._removeTab(s,e.id)})))),i("div",{class:"tab-content",ref:e=>this._setContentRef(e)},t.items.map(e=>i("div",{class:{"tab-view":!0,active:e.active&&!e.placeholder}},i("slot",{name:e.viewSlot})))))}renderSplitter(t){return i("sl-splitter",{vertical:t.direction==="vertical",blueSize:t.blueSize,minBlue:t.minBlue,maxBlue:t.maxBlue,disabled:t.disabled,onResizeStart:()=>this.handleResizeStart(),onResizeEnd:e=>this.handleResizeEnd(e)},i("sl-layout",{slot:"blue",model:t.items[0]},this.getSlots(t.items[0]).map(e=>i("slot",{name:e,slot:e}))),i("sl-layout",{slot:"green",model:t.items[1]},this.getSlots(t.items[1]).map(e=>i("slot",{name:e,slot:e}))))}render(){return i("div",{key:this._model.id+this.renderIndex,class:"sl-layout"},this._model.type==="tabs"&&this.renderTabs(this._model),this._model.type==="splitter"&&this.renderSplitter(this._model),this._model.type!=="splitter"&&this.getSlots(this._model).map(t=>i("slot",{name:t,slot:t})))}get host(){return this}static get watchers(){return{model:["onModelChanged"]}}},[1,"sl-layout",{model:[16],root:[32],dragging:[32],_model:[32],renderIndex:[32],getGroup:[64],getRootLayout:[64],moveTab:[64],sortTab:[64],selectTab:[64],removeTab:[64],resizeSplitter:[64],dropTab:[64],setRootDragging:[64],setDragging:[64]},void 0,{model:["onModelChanged"]}]),Dt=zt,Ut=r(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.target=void 0,this.position="bottom",this.align="start",this.opened=!1}get currentTarget(){return this.target||this.host.previousElementSibling}get class(){return{"sl-popover":!0,opened:this.opened,[this.position]:!0,[this.align]:!0}}get style(){const t={},e=this.currentTarget.getBoundingClientRect(),s=this.host.getBoundingClientRect();let a=e.top+e.height+15,n=e.left,l="max-content",u="max-content";switch(this.position){case"top":{switch(a=e.top-15,this.align){case"start":{n=e.left;break}case"center":{n=e.left+e.width/2;break}case"end":{n=e.right;break}case"justify":{n=e.left,u=`${e.width}px`;break}}break}case"right":{switch(n=e.right+15,this.align){case"start":{a=e.top;break}case"center":{a=e.top+e.height/2;break}case"end":{a=e.bottom;break}case"justify":{a=e.top,l=`${e.height}px`;break}}break}case"bottom":{switch(a=e.top+e.height+15,this.align){case"start":{n=e.left;break}case"center":{n=e.left+e.width/2;break}case"end":{n=e.right;break}case"justify":{n=e.left,u=`${e.width}px`;break}}break}case"left":{switch(n=e.left-15,this.align){case"start":{a=e.top;break}case"center":{a=e.top+e.height/2;break}case"end":{a=e.bottom;break}case"justify":{a=e.top,l=`${e.height}px`;break}}break}}return t.height=l,t.width=u,a+s.height>=window.innerHeight?t.bottom="8px":t.top=`${a}px`,n+s.width>=window.innerWidth?t.right="8px":t.left=`${n}px`,t}async open(){this.opened=!0,this.windowClickListener=this.onWindowClick.bind(this),window.addEventListener("click",this.windowClickListener)}async close(){this.opened=!1,this.windowClickListener&&window.removeEventListener("click",this.windowClickListener)}updateTargetListener(t,e){e&&this.targetClickListener&&e.removeEventListener("click",this.targetClickListener),this.targetClickListener=this.onTargetClick.bind(this),t.addEventListener("click",this.targetClickListener)}onTargetClick(){this.opened?this.close():this.open()}onWindowClick(t){!I(this.currentTarget,t.target)&&!I(this.host,t.target)&&this.close()}onTargetChange(t,e){this.updateTargetListener(this.currentTarget,e)}connectedCallback(){c(this.host),d(this.host,{display:"inline-flex"}),this.updateTargetListener(this.currentTarget)}render(){return i("div",{class:this.class,style:this.style},i("div",{class:"popover-wrapper"},i("div",{class:"popover-container"},i("slot",null))))}get host(){return this}static get watchers(){return{target:["onTargetChange"]}}},[1,"sl-popover",{target:[16],position:[1],align:[1],opened:[32],open:[64],close:[64]},void 0,{target:["onTargetChange"]}]),Bt=Ut,Ht=ut,Rt=G,Ot=Tt,jt=It,Nt=J;let b;function le(o){b||(b=document.createElement("sl-hud"),document.body.appendChild(b)),b.addNotification(o)}const re=o=>{typeof customElements<"u"&&[K,X,tt,st,it,ot,rt,ct,pt,gt,bt,yt,kt,_t,xt,Lt,Dt,Bt,Ht,Rt,Ot,jt,Nt].forEach(t=>{customElements.get(t.is)||customElements.define(t.is,t,o)})};export{F as Deferred,le as addNotification,x as attachTooltip,de as debounce,re as defineCustomElements,P as delay,ue as emailValidation,me as getAssetPath,M as noValidation,pe as setAssetPath,fe as setConfig,ge as setNonce,be as setPlatformOptions,ve as setTheme};
